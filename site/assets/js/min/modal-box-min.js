!function($){var o,a,t,e;o=function(o){this.el=$(o)},o.prototype.center=function(){var o=this.el,a=o.find(".modal-box"),t=o.height(),e=a.outerHeight(),n;a.is(".top")||a.is(".bottom")||(n=(t-e)/2,a.css("top",n)),a.is(".bottom")&&(n=t-e,a.css("top",n))},o.prototype.show=function(){var o=this.el,a=o.data("modal"),t=o.find(".modal-box").data("animation"),e=o.find("iframe");$("[data-modal].open").length&&$("[data-modal].open").modalBox("hide"),e.length&&e.attr("src",e.data("iframeSrc")),o.addClass("open"),"none"==t?o.show():o.fadeIn(250),this.center()},o.prototype.hide=function(){var o=this.el,a=o.find(".modal-box").data("animation"),t=o.find("iframe");o.removeClass("open"),a&&"none"==a?(o.hide(),t.length&&t.attr("src","")):(o.fadeOut(250),setTimeout(function(){t.length&&t.attr("src","")},250))},$.fn.modalBox=function(a){return this.each(function(){var t=$(this),e=t.data("modalBox");e||(e=new o(this),t.data("modalBox",e)),"string"==typeof a&&e[a]()})},a=function(o){o.preventDefault();var a=$(this).data("modalLink"),t=$("[data-modal="+a+"]");t.modalBox("show")},clickHandler=function(o){var a=$(o.target);a.closest(".modal-box").length||$(this).modalBox("hide")},t=function(){$(this).closest("[data-modal]").modalBox("hide")},resizeHandler=function(){$("[data-modal].open").length&&$("[data-modal].open").modalBox("center")},e=function(o){o.preventDefault();var a=o.originalEvent,t=a.wheelDelta||-a.detail,e=$(o.target).closest(".modal-box");e.length&&(e.get(0).scrollTop-=t)},$(".modal-window").each(function(){var o=$(this),a=o.find(".modal-box"),t=$(this).data("modal"),e=o.data("timeout"),n=o.data("scroll");if(o.find("iframe").length){var d=o.find("iframe"),l=d.attr("src");a.addClass("iframe-box"),d.attr("src",""),d.data("iframeSrc",l)}e&&setTimeout(function(){o.modalBox("show")},e),n&&$(window).on("scroll.modalBox"+t,function(){$(this).scrollTop()>=n&&(o.modalBox("show"),$(window).off(".modalBox"+t))})}),$(document).on("click.modalBox","[data-modal-link]",a).on("mousedown.modalBox","[data-modal]",clickHandler).on("click.modalBox","[data-modal] .close-btn",t).on("mousewheel.modalBox DOMMouseScroll.modalBox","[data-modal]",e),$(window).on("resize.modalBox",resizeHandler)}(jQuery);